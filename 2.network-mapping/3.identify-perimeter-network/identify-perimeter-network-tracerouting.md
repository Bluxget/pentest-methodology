# Network Mapping
## Identify Perimeter Network
### Identify Perimeter Network - Tracerouting

#### Objectives
Analyze the reply traffic for ICMP error messages:
* Identify Router and Firewall using ICMP Admin Prohibited Packets
* ICMP Admin Prohibited packet = ICMP type 3 message with code 13 

#### Tools
* Traceroute, tcptraceroute, xtraceroute (Linux)
* Tracert (Windows)
* http://www.traceroute.org/ 
* http://www.tracert.com/cgi-bin/trace.pl 

#### Examples
```bash
$ nmap –vv -sU 10.3.8.5
```

Using ICMP (default on windows):
```PowerShell
\> tracert <target>
```
```bash
$ traceroute –I <target>
```

Using UDP (default on Linux, not standard on windows):
```bash
$ traceroute <target>
```

Using TCP:
```bash
$ tcptraceroute <target>
```

Note: Disabling DNS lookups while performing trace routes will result in a faster response
Routes between hosts are not static; they may change due to routing protocols. Also, there might be more than one perimeter router on the target network (e.g. redundant connection with different ISP). Therefore, it is important to make several tests, from different locations and ISPs.
