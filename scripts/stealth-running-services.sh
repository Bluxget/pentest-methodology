#!/bin/bash

. scripts.config

{
	echo -e "[START] $(basename "$0"): $(date '+%Y-%m-%d %H:%M:%S')"
	echo -e '----------------------------------------------------------------------------------------------------\n'

	echo -e '-> Stealth Scan:\n'

	nmap $TARGET_IP -sS

	echo -e '\n__________________________________________________________________________________________\n'

	echo -e '-> Only Open Ports and Banner Grab:\n'

	nmap $TARGET_IP -n -Pn -sS --open -sV

	echo -e '\n__________________________________________________________________________________________\n'

	echo -e '-> Stealth scan using FIN Scan:\n'

	nmap $TARGET_IP -sF

	echo -e '\n__________________________________________________________________________________________\n'

	echo -e '-> UDP Scan:\n'

	nmap $TARGET_IP -sU 

	cat $OUTPUTS_LOCATION/$SCRIPT_NAME.txt | grep open | sort > $FILTER_LOCATION/$SCRIPT_NAME.txt

	echo -e '\n----------------------------------------------------------------------------------------------------'
	echo -e "[END] $(basename "$0"): $(date '+%Y-%m-%d %H:%M:%S')"

} > $OUTPUTS_LOCATION/$SCRIPT_NAME.txt
